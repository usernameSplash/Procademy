# 메모리 Commit과 누수

`malloc` 함수를 사용하여 메모리를 사용하겠다(commit)고 OS에 요청할 수 있다.

하지만 commit을 할 때 물리 메모리 공간을 실제로 점유하도록 동작하지는 않는다.

(이론적으로는 실제로 점유하는 것이 올바르지만 자원 낭비를 방지하기 위한 기법이다.)

이 코드를 실행하면 `4 * 100000000` Byte만큼 commit을 한다. 하지만 물리 메모리 공간이 그 만큼 점유되지 않았다는 것을 '작업 관리자' 에서 확인이 가능하다.

반복문을 통해 `buffer` 배열의 요소에 실제로 접근하고자 할 때 가상 메모리 테이블에 접근을 시도하고 Page Fault가 발생하면서 OS가 물리 메모리의 공간을 확보하고 가상 메모리 테이블에 등록한다.